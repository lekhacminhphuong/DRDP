{"ast":null,"code":"var _jsxFileName = \"/Users/phuongle/Documents/Internship/Klavins Lab/project-dashboard/src/layouts/Dashboard/TopBar.js\";\n\n/* eslint-disable no-unused-vars */\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles';\nimport { AppBar, Badge, Button, IconButton, Toolbar, Hidden, Input, colors, Popper, Paper, List, ListItem, ListItemIcon, ListItemText, ClickAwayListener } from '@material-ui/core';\nimport InputIcon from '@material-ui/icons/Input';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport axios from 'src/utils/axios';\nimport { logout } from 'src/actions';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    boxShadow: 'none'\n  },\n  flexGrow: {\n    flexGrow: 1\n  },\n  search: {\n    backgroundColor: 'rgba(255,255,255, 0.1)',\n    borderRadius: 4,\n    flexBasis: 300,\n    height: 36,\n    padding: theme.spacing(0, 2),\n    display: 'flex',\n    alignItems: 'center'\n  },\n  searchIcon: {\n    marginRight: theme.spacing(2),\n    color: 'inherit'\n  },\n  searchInput: {\n    flexGrow: 1,\n    color: 'inherit',\n    '& input::placeholder': {\n      opacity: 1,\n      color: 'inherit'\n    }\n  },\n  searchPopper: {\n    zIndex: theme.zIndex.appBar + 100\n  },\n  searchPopperContent: {\n    marginTop: theme.spacing(1)\n  },\n  trialButton: {\n    marginLeft: theme.spacing(2),\n    color: theme.palette.common.white,\n    backgroundColor: colors.green[600],\n    '&:hover': {\n      backgroundColor: colors.green[900]\n    }\n  },\n  trialIcon: {\n    marginRight: theme.spacing(1)\n  },\n  menuButton: {\n    marginRight: theme.spacing(1)\n  },\n  chatButton: {\n    marginLeft: theme.spacing(1)\n  },\n  notificationsButton: {\n    marginLeft: theme.spacing(1)\n  },\n  notificationsBadge: {\n    backgroundColor: colors.orange[600]\n  },\n  logoutButton: {\n    marginLeft: theme.spacing(1)\n  },\n  logoutIcon: {\n    marginRight: theme.spacing(1)\n  }\n}));\nconst popularSearches = ['search suggestions here'];\n\nfunction TopBar({\n  onOpenNavBarMobile,\n  className,\n  ...rest\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const searchRef = useRef(null);\n  const dispatch = useDispatch();\n  const notificationsRef = useRef(null);\n  const [openSearchPopover, setOpenSearchPopover] = useState(false);\n  const [searchValue, setSearchValue] = useState('');\n  const [notifications, setNotifications] = useState([]);\n\n  const handleLogout = () => {\n    history.push('/auth/login'); // dispatch(logout());\n  };\n\n  const handleSearchChange = event => {\n    setSearchValue(event.target.value);\n\n    if (event.target.value) {\n      if (!openSearchPopover) {\n        setOpenSearchPopover(true);\n      }\n    } else {\n      setOpenSearchPopover(false);\n    }\n  };\n\n  const handleSearchPopverClose = () => {\n    setOpenSearchPopover(false);\n  };\n\n  useEffect(() => {\n    let mounted = true;\n\n    const fetchNotifications = () => {\n      axios.get('/api/account/notifications').then(response => {\n        if (mounted) {\n          setNotifications(response.data.notifications);\n        }\n      });\n    };\n\n    fetchNotifications();\n    return () => {\n      mounted = false;\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(AppBar, Object.assign({}, rest, {\n    className: clsx(classes.root, className),\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    lgUp: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: onOpenNavBarMobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(RouterLink, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.flexGrow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Hidden, {\n    smDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.search,\n    ref: searchRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    className: classes.searchIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    className: classes.searchInput,\n    disableUnderline: true,\n    onChange: handleSearchChange,\n    placeholder: \"Search people & places\",\n    value: searchValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Popper, {\n    anchorEl: searchRef.current,\n    className: classes.searchPopper,\n    open: openSearchPopover,\n    transition: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ClickAwayListener, {\n    onClickAway: handleSearchPopverClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.searchPopperContent,\n    elevation: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }, popularSearches.map(search => /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    key: search,\n    onClick: handleSearchPopverClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 23\n    }\n  })))))))), /*#__PURE__*/React.createElement(Hidden, {\n    mdDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.logoutButton,\n    color: \"inherit\",\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputIcon, {\n    className: classes.logoutIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }), \"Sign out\"))));\n}\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n  onOpenNavBarMobile: PropTypes.func\n};\nexport default TopBar;","map":{"version":3,"sources":["/Users/phuongle/Documents/Internship/Klavins Lab/project-dashboard/src/layouts/Dashboard/TopBar.js"],"names":["React","useState","useRef","useEffect","Link","RouterLink","useHistory","PropTypes","clsx","useDispatch","makeStyles","AppBar","Badge","Button","IconButton","Toolbar","Hidden","Input","colors","Popper","Paper","List","ListItem","ListItemIcon","ListItemText","ClickAwayListener","InputIcon","MenuIcon","SearchIcon","axios","logout","useStyles","theme","root","boxShadow","flexGrow","search","backgroundColor","borderRadius","flexBasis","height","padding","spacing","display","alignItems","searchIcon","marginRight","color","searchInput","opacity","searchPopper","zIndex","appBar","searchPopperContent","marginTop","trialButton","marginLeft","palette","common","white","green","trialIcon","menuButton","chatButton","notificationsButton","notificationsBadge","orange","logoutButton","logoutIcon","popularSearches","TopBar","onOpenNavBarMobile","className","rest","classes","history","searchRef","dispatch","notificationsRef","openSearchPopover","setOpenSearchPopover","searchValue","setSearchValue","notifications","setNotifications","handleLogout","push","handleSearchChange","event","target","value","handleSearchPopverClose","mounted","fetchNotifications","get","then","response","data","current","map","propTypes","string","func"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n  AppBar,\n  Badge,\n  Button,\n  IconButton,\n  Toolbar,\n  Hidden,\n  Input,\n  colors,\n  Popper,\n  Paper,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ClickAwayListener\n} from '@material-ui/core';\n\nimport InputIcon from '@material-ui/icons/Input';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport axios from 'src/utils/axios';\nimport { logout } from 'src/actions';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    boxShadow: 'none'\n  },\n  flexGrow: {\n    flexGrow: 1\n  },\n  search: {\n    backgroundColor: 'rgba(255,255,255, 0.1)',\n    borderRadius: 4,\n    flexBasis: 300,\n    height: 36,\n    padding: theme.spacing(0, 2),\n    display: 'flex',\n    alignItems: 'center'\n  },\n  searchIcon: {\n    marginRight: theme.spacing(2),\n    color: 'inherit'\n  },\n  searchInput: {\n    flexGrow: 1,\n    color: 'inherit',\n    '& input::placeholder': {\n      opacity: 1,\n      color: 'inherit'\n    }\n  },\n  searchPopper: {\n    zIndex: theme.zIndex.appBar + 100\n  },\n  searchPopperContent: {\n    marginTop: theme.spacing(1)\n  },\n  trialButton: {\n    marginLeft: theme.spacing(2),\n    color: theme.palette.common.white,\n    backgroundColor: colors.green[600],\n    '&:hover': {\n      backgroundColor: colors.green[900]\n    }\n  },\n  trialIcon: {\n    marginRight: theme.spacing(1)\n  },\n  menuButton: {\n    marginRight: theme.spacing(1)\n  },\n  chatButton: {\n    marginLeft: theme.spacing(1)\n  },\n  notificationsButton: {\n    marginLeft: theme.spacing(1)\n  },\n  notificationsBadge: {\n    backgroundColor: colors.orange[600]\n  },\n  logoutButton: {\n    marginLeft: theme.spacing(1)\n  },\n  logoutIcon: {\n    marginRight: theme.spacing(1)\n  }\n}));\n\nconst popularSearches = ['search suggestions here'];\n\nfunction TopBar({ onOpenNavBarMobile, className, ...rest }) {\n  const classes = useStyles();\n  const history = useHistory();\n  const searchRef = useRef(null);\n  const dispatch = useDispatch();\n  const notificationsRef = useRef(null);\n  const [openSearchPopover, setOpenSearchPopover] = useState(false);\n  const [searchValue, setSearchValue] = useState('');\n  const [notifications, setNotifications] = useState([]);\n\n  const handleLogout = () => {\n    history.push('/auth/login');\n    // dispatch(logout());\n  };\n\n  const handleSearchChange = event => {\n    setSearchValue(event.target.value);\n\n    if (event.target.value) {\n      if (!openSearchPopover) {\n        setOpenSearchPopover(true);\n      }\n    } else {\n      setOpenSearchPopover(false);\n    }\n  };\n\n  const handleSearchPopverClose = () => {\n    setOpenSearchPopover(false);\n  };\n\n  useEffect(() => {\n    let mounted = true;\n\n    const fetchNotifications = () => {\n      axios.get('/api/account/notifications').then(response => {\n        if (mounted) {\n          setNotifications(response.data.notifications);\n        }\n      });\n    };\n\n    fetchNotifications();\n\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  return (\n    <AppBar {...rest} className={clsx(classes.root, className)} color=\"primary\">\n      <Toolbar>\n        <Hidden lgUp>\n          <IconButton\n            className={classes.menuButton}\n            color=\"inherit\"\n            onClick={onOpenNavBarMobile}\n          >\n            <MenuIcon />\n          </IconButton>\n        </Hidden>\n        <RouterLink to=\"/\">{/* <img alt=\"Logo\" src=\"\" /> */}</RouterLink>\n        <div className={classes.flexGrow} />\n        <Hidden smDown>\n          <div className={classes.search} ref={searchRef}>\n            <SearchIcon className={classes.searchIcon} />\n            <Input\n              className={classes.searchInput}\n              disableUnderline\n              onChange={handleSearchChange}\n              placeholder=\"Search people &amp; places\"\n              value={searchValue}\n            />\n          </div>\n          <Popper\n            anchorEl={searchRef.current}\n            className={classes.searchPopper}\n            open={openSearchPopover}\n            transition\n          >\n            <ClickAwayListener onClickAway={handleSearchPopverClose}>\n              <Paper className={classes.searchPopperContent} elevation={3}>\n                <List>\n                  {popularSearches.map(search => (\n                    <ListItem\n                      button\n                      key={search}\n                      onClick={handleSearchPopverClose}\n                    >\n                      <ListItemIcon>\n                        <SearchIcon />\n                      </ListItemIcon>\n                      <ListItemText primary={search} />\n                    </ListItem>\n                  ))}\n                </List>\n              </Paper>\n            </ClickAwayListener>\n          </Popper>\n        </Hidden>\n\n        <Hidden mdDown>\n          <Button\n            className={classes.logoutButton}\n            color=\"inherit\"\n            onClick={handleLogout}\n          >\n            <InputIcon className={classes.logoutIcon} />\n            Sign out\n          </Button>\n        </Hidden>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n  onOpenNavBarMobile: PropTypes.func\n};\n\nexport default TopBar;\n"]},"metadata":{},"sourceType":"module"}